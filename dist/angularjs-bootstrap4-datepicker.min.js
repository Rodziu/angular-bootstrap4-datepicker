angular.module("datePicker",["datePicker.datePicker","datePicker.timePicker"]),angular.module("datePicker.datePicker",[]),angular.module("datePicker.timePicker",[]),function(){"use strict";function t(t,e,n,a){let i,r=this;r.displayData=[],r.changeMode=function(t){r.displayMode!==t&&(r.displayMode=t,r.buildCalendar())},r.isEnabledDate=function(t,e){return a.isEnabledDate(r,t,e)},r.validDisplayAction=function(t){let e=r.currentDisplayDate.clone();switch(r.displayMode){case"days":return e.sub("prev"===t?1:-1,"month"),!!r.isEnabledDate(e,"month")&&e;case"months":return e.sub("prev"===t?1:-1,"year"),!!r.isEnabledDate(e,"year")&&e;case"years":{let n=12*Math.floor(r.currentDisplayDate.getFullYear()/12)+("prev"===t?-1:12);if(r.isEnabledDate(new DateExtended(n+""),"year"))return e.sub("prev"===t?12:-12,"year");break}}return!1},r.displayAction=function(t){let e=r.validDisplayAction(t);e&&(r.currentDisplayDate=e,r.buildCalendar())},r.buildCalendar=function(){if("months"===r.displayMode)return;let t,e=[];if("days"===r.displayMode){if(!(i instanceof DateExtended)||r.currentDisplayDate.format("Y-m")!==i.format("Y-m")){r.displayData=[],i=r.currentDisplayDate.clone();let n=new DateExtended(r.currentDisplayDate.format("Y-m-01")),a=n.format("N")-1;for(0===a&&(a=7),n.sub(a,"day"),t=1;t<43;t++)e.push(n.clone()),t%7==0&&(r.displayData.push(e),e=[]),n.add(1)}}else{r.displayData=[];let n=12*Math.floor(r.currentDisplayDate.getFullYear()/12);for(t=0;t<3;t++){e=[];for(let a=0;a<4;a++){let i=n+(4*t+a);e.push(i)}r.displayData.push(e),e=[]}}},r.pickDate=function(t,n){if(t instanceof Date&&(t=DateExtended.createFromDate(t)),t instanceof DateExtended||(t=new DateExtended(t+"")),r.isEnabledDate(t,n))switch(n){case"day":r.ngModel=t.format(r.format),r.currentDate=t,r.currentDisplayDate=t,r.buildCalendar(),null!==r.datepicker&&(angular.isFunction(r.datepicker.ngChange)&&r.datepicker.ngChange(),!1!==r.datepicker.options.hideOnPick&&e(function(){r.datepicker.isOpen=!1}));break;case"month":r.currentDisplayDate.setMonth(t.getMonth()),r.monthPicker?(r.currentDisplayDate.setDate(1),r.pickDate(r.currentDisplayDate,"day")):r.changeMode("days");break;case"year":r.currentDisplayDate.setFullYear(t.format("Y")),r.changeMode("months")}},r.$onInit=function(){r.format="format"in t?t.format:null!==r.datepicker&&"format"in r.datepicker.$attrs?r.datepicker.$attrs.format:n.format,r.$doCheck(),angular.isUndefined(r.minDate)&&(r.minDate=n.minDate),angular.isUndefined(r.maxDate)&&(r.maxDate=n.maxDate),r.monthPicker="monthPicker"in t||null!==r.datepicker&&"monthPicker"in r.datepicker.$attrs,r.displayMode=r.monthPicker?"months":"days",r.dayNames=n.dayNames,r.monthNames=n.monthNames,r.buildCalendar()},r.$doCheck=function(){let t;try{r.ngModel instanceof DateExtended?t=r.ngModel.clone():r.ngModel instanceof Date?t=DateExtended.createFromDate(r.ngModel):(t=DateExtended.createFromFormat(r.format,r.ngModel)).isValid()||(t=new DateExtended(r.ngModel))}catch(e){t=new DateExtended}!t.isValid()||r.currentDate instanceof DateExtended&&t.format("Y-m-d")===r.currentDate.format("Y-m-d")?angular.isUndefined(r.currentDisplayDate)&&(t=new DateExtended,r.currentDate=t,r.currentDisplayDate=t.clone()):(r.currentDate=t,r.currentDisplayDate=t.clone())}}t.$inject=["$attrs","$timeout","datePicker","datePickerService"],angular.module("datePicker.datePicker").component("datepickerCalendar",{bindings:{ngModel:"=",minDate:"<?",maxDate:"<?",disabledDates:"<?"},templateUrl:"src/templates/datepicker-calendar.html",controllerAs:"ctrl",require:{datepicker:"?^datepicker"},controller:t})}(),function(){"use strict";function t(t){const e=["required","disabled","readonly"];return{restrict:"A",require:["ngModel","^datepicker"],link:function(n,a,i,r){let s=r[0],c=r[1];for(let t=0;t<e.length;t++)!function(t){c.$attrs.$observe(t,function(e){a.attr(t,e),"disabled"===t&&(c.isDisabled=e)})}(e[t]);s.$formatters.push(e=>{if(angular.isString(e)){const n="format"in c.$attrs?c.$attrs.format:t.format;let a=DateExtended.createFromFormat(n,e);a.isValid()||(a=new DateExtended(e)).isValid()&&(e=a.format(n),s.$modelValue=e)}return e}),s.$validators.date=(e=>{let n=!0;if(angular.isDefined(c.isEnabledDate)&&angular.isDefined(e)&&""!==e){let a=DateExtended.createFromFormat("format"in c.$attrs?c.$attrs.format:t.format,e);n=a.isValid()&&c.isEnabledDate(a,"day")}return a[0].setCustomValidity(n?"":" "),n})}}}t.$inject=["datePicker"],angular.module("datePicker.datePicker").directive("datepickerInput",t)}(),function(){"use strict";function t(t,e,n,a,i,r){let s=this,c=function(t){s.isOpen&&!n[0].contains(t.target)&&(s.isOpen=!1,e.$digest())};s.$attrs=a,s.$onInit=function(){s.options={};for(let t in i)i.hasOwnProperty(t)&&(angular.isDefined(a[t])?("false"===a[t]?a[t]=!1:"true"===a[t]&&(a[t]=!0),s.options[t]=a[t]):s.options[t]=i[t]);s.isOpen=!1,s.isEnabledDate=function(t,e){return r.isEnabledDate(s,t,e)}},s.$onChanges=function(){s.isSmall=n.hasClass("form-control-sm"),s.isLarge=n.hasClass("form-control-lg")},s.$onDestroy=function(){t.off("click",c)},t.on("click",c)}t.$inject=["$document","$scope","$element","$attrs","datePicker","datePickerService"],angular.module("datePicker.datePicker").component("datepicker",{bindings:{ngModel:"=",minDate:"<?",maxDate:"<?",disabledDates:"<?",ngChange:"&?"},templateUrl:"src/templates/datepicker.html",controllerAs:"dpCtrl",controller:t})}(),function(){"use strict";angular.module("datePicker.datePicker").provider("datePicker",function(){this.options={minDate:void 0,maxDate:void 0,showIcon:!0,hideOnPick:!1,dayNames:[],monthNames:[],format:"Y-m-d",updateDateTranslations:()=>{this.options.dayNames=DateExtended.getDayShortNames(),this.options.dayNames.push(this.options.dayNames.shift()),this.options.monthNames=[];for(let t=0;t<3;t++){let e=[];for(let n=0;n<4;n++){let a=4*t+n+1;e.push({name:DateExtended.getMonthShortNames()[a-1],number:a})}this.options.monthNames.push(e),e=[]}}},this.options.updateDateTranslations(),this.$get=function(){return this.options}})}(),function(){"use strict";angular.module("datePicker.datePicker").factory("datePickerService",function(){return{isEnabledDate:function(t,e,n){e instanceof Date||(e=new Date(e+""));const a=e.getFullYear(),i=e.getMonth(),r=e.getDate(),s=function(e){if(angular.isDefined(t[e+"Date"])){const s=t[e+"Date"]instanceof DateExtended?t[e+"Date"]:t[e+"Date"]instanceof Date?DateExtended.createFromDate(t[e+"Date"]):new DateExtended(t[e+"Date"]),c=function(t,n,a){return"min"===e?t>n||!!a&&t===n:t<n||!!a&&t===n};if(s.isValid())return c(a,s.getFullYear())||a===s.getFullYear()&&("year"===n||c(i,s.getMonth())||i===s.getMonth()&&("month"===n||c(r,s.getDate(),!0)))}return!0},c=s("min")&&s("max");return c&&angular.isFunction(t.disabledDates)?t.disabledDates(e,n):c}}})}(),function(){"use strict";angular.module("datePicker.timePicker").filter("datePad",function(){return function(t){return angular.isNumber(t)&&t<10?"0"+t:t}})}(),function(){"use strict";function t(t,e){const n=this,a=function(){const t=[];n.pickHours&&t.push(n.hours<10?"0"+n.hours:n.hours),n.pickMinutes&&t.push(n.minutes<10?"0"+n.minutes:n.minutes),n.pickSeconds&&t.push(n.seconds<10?"0"+n.seconds:n.seconds),n.ngModel=t.join(":"),null!==n.timepicker&&angular.isFunction(n.timepicker.ngChange)&&n.timepicker.ngChange()};n.mode="picker",n.hoursArray=e.hours,n.minutesArray=e.minutes,n.hours=0,n.minutes=0,n.seconds=0,n.setMode=function(t){n.mode=t},n.change=function(t,e){const i="hours"===t?23:59;e?n[t]++:n[t]--,n[t]>i?n[t]=0:n[t]<0&&(n[t]=i),a()},n.pick=function(e,i){n[e]=parseInt(i),n.mode="picker",a(),null!==n.timepicker&&!1!==n.timepicker.options.hideOnPick&&t(function(){n.timepicker.isOpen=!1})},n.$onInit=function(){angular.isUndefined(n.pickHours)&&(n.pickHours=e.pickHours),angular.isUndefined(n.pickMinutes)&&(n.pickMinutes=e.pickMinutes),angular.isUndefined(n.pickSeconds)&&(n.pickSeconds=e.pickSeconds),n.$doCheck()},n.$doCheck=function(){angular.isString(n.ngModel)&&(n.hours=0,n.minutes=0,n.seconds=0);try{const t=n.ngModel.split(":");let e=0,a=0,i=0,r=!1;t:for(let s in t)if(t.hasOwnProperty(s))switch(s){case"0":if(n.pickHours)e=parseInt(t[s]);else if(n.pickMinutes)a=parseInt(t[s]),r=!0;else if(n.pickSeconds){i=parseInt(t[s]);break t}break;case"1":if(n.pickMinutes&&!r)a=parseInt(t[s]);else if(n.pickSeconds){i=parseInt(t[s]);break t}break;case"2":n.pickSeconds&&(i=parseInt(t[s]));break t}isNaN(e)||isNaN(a)||isNaN(i)||(n.hours=e,n.minutes=a,n.seconds=i)}catch(t){}}}t.$inject=["$timeout","timePicker"],angular.module("datePicker.timePicker").component("timepickerDrop",{bindings:{ngModel:"=",pickHours:"<?",pickMinutes:"<?",pickSeconds:"<?"},templateUrl:"src/templates/timepicker-drop.html",controllerAs:"ctrl",require:{timepicker:"?^timepicker"},controller:t})}(),function(){"use strict";function t(t,e,n,a,i){let r=this,s=function(t){r.isOpen&&!n[0].contains(t.target)&&(r.isOpen=!1,e.$digest())};r.$onInit=function(){r.options={};for(let t in i)i.hasOwnProperty(t)&&(angular.isDefined(a[t])?("false"===a[t]?a[t]=!1:"true"===a[t]&&(a[t]=!0),r.options[t]=a[t]):r.options[t]=i[t]);r.isOpen=!1,a.$observe("required",function(t){r.isRequired=t})},r.$onChanges=function(){r.isSmall=n.hasClass("form-control-sm"),r.isLarge=n.hasClass("form-control-lg")},r.$onDestroy=function(){t.off("click",s)},t.on("click",s)}t.$inject=["$document","$scope","$element","$attrs","timePicker"],angular.module("datePicker.timePicker").component("timepicker",{bindings:{ngModel:"=",pickHours:"<?",pickMinutes:"<?",pickSeconds:"<?",ngChange:"&?"},templateUrl:"src/templates/timepicker.html",controllerAs:"tpCtrl",controller:t})}(),function(){"use strict";angular.module("datePicker.timePicker").provider("timePicker",function(){this.options={pickHours:!0,pickMinutes:!0,pickSeconds:!0,showIcon:!0,hideOnPick:!1,hours:[],minutes:[]};const t=[],e=[];let n,a;for(n=0;n<10;n++){const i=[],r=[];for(a=0;a<6;a++){if(n<6&&a<4){const t=4*n+a;i.push({hour:t<10?"0"+t:t})}const t=6*n+a;r.push({minute:t<10?"0"+t:t})}t.push(i),e.push(r)}this.options.hours=t,this.options.minutes=e,this.$get=function(){return this.options}})}(),angular.module("datePicker").run(["$templateCache",function(t){t.put("src/templates/datepicker-calendar.html","<table class=\"table table-sm table-datepicker\"><thead><tr><th ng-click=\"ctrl.displayAction('prev')\" ng-class=\"{'disabled': !ctrl.validDisplayAction('prev')}\"><i class=\"fa fa-chevron-left\"></i></th><th ng-click=\"ctrl.changeMode(ctrl.displayMode === 'days' ? 'months' : 'years')\" colspan=\"{{ctrl.displayMode == 'days' ? 5 : 2}}\" ng-switch=\"ctrl.displayMode\"><span ng-switch-when=\"days\">{{ctrl.currentDisplayDate.format('F Y')}}</span> <span ng-switch-when=\"months\">{{ctrl.currentDisplayDate.format('Y')}}</span> <span ng-switch-when=\"years\">{{ctrl.displayData[0][0]}} - {{ctrl.displayData[2][3]}}</span></th><th ng-click=\"ctrl.displayAction('next')\" ng-class=\"{'disabled': !ctrl.validDisplayAction('next')}\"><i class=\"fa fa-chevron-right\"></i></th></tr><tr ng-show=\"ctrl.displayMode == 'days'\"><th ng-repeat=\"d in ::ctrl.dayNames\">{{d}}</th></tr></thead><tbody ng-switch=\"ctrl.displayMode\"><tr ng-switch-when=\"days\" ng-repeat=\"row in ctrl.displayData\"><td ng-repeat=\"d in ::row\" ng-click=\"ctrl.pickDate(d, 'day')\" ng-class=\"{ 'old': d.format('Y-m') < ctrl.currentDisplayDate.format('Y-m'), 'fut': d.format('Y-m') > ctrl.currentDisplayDate.format('Y-m'), 'active': d.format('Ymd') == ctrl.currentDate.format('Ymd'), 'disabled': !ctrl.isEnabledDate(d, 'day')}\">{{::d.format('j')}}</td></tr><tr ng-switch-when=\"months\" ng-repeat=\"row in ::ctrl.monthNames\" class=\"months\"><td ng-repeat=\"m in ::row\" ng-click=\"ctrl.pickDate(ctrl.currentDisplayDate.format('Y-' + m.number), 'month')\" ng-class=\"{'active': ctrl.currentDisplayDate.format('Y' + m.number) == ctrl.currentDate.format('Yn'), 'disabled': !ctrl.isEnabledDate(ctrl.currentDisplayDate.format('Y-' + m.number), 'month')}\">{{::m.name}}</td></tr><tr ng-switch-when=\"years\" ng-repeat=\"row in ctrl.displayData\" class=\"years\"><td ng-repeat=\"y in ::row\" ng-click=\"ctrl.pickDate(y, 'year')\" ng-class=\"{'active': y == ctrl.currentDate.getFullYear(), 'disabled': !ctrl.isEnabledDate(y + '', 'year')}\">{{::y}}</td></tr></tbody></table>"),t.put("src/templates/datepicker.html",'<div class="dropdown" ng-class="{ \'input-group\': dpCtrl.options.showIcon, \'input-group-sm\': dpCtrl.isSmall, \'input-group-lg\': dpCtrl.isLarge, \'show\': dpCtrl.isOpen}"><input type="text" class="form-control" ng-model="dpCtrl.ngModel" datepicker-input ng-click="dpCtrl.isOpen = true"><ul class="dropdown-menu dropdown-menu-right angular-datepicker" ng-click="$event.stopPropagation()" ng-class="{\'show\': dpCtrl.isOpen}"><li ng-if="dpCtrl.isOpen"><datepicker-calendar ng-model="dpCtrl.ngModel" min-date="dpCtrl.minDate" max-date="dpCtrl.maxDate" disabled-dates="dpCtrl.disabledDates"></datepicker-calendar></li></ul><span class="input-group-append" ng-show="::dpCtrl.options.showIcon"><button type="button" class="btn btn-outline-secondary" data-ng-disabled="dpCtrl.isDisabled" ng-click="dpCtrl.isOpen = true"><i class="fa fa-calendar"></i></button></span></div>'),t.put("src/templates/timepicker-drop.html",'<table class="table table-sm table-timepicker" ng-switch="ctrl.mode"><tbody ng-switch-when="picker"><tr><td ng-if="ctrl.pickHours"><a ng-click="ctrl.change(\'hours\', true)"><i class="fa fa-chevron-up"></i></a></td><td ng-if="ctrl.pickMinutes"><a ng-click="ctrl.change(\'minutes\', true)"><i class="fa fa-chevron-up"></i></a></td><td ng-if="ctrl.pickSeconds"><a ng-click="ctrl.change(\'seconds\', true)"><i class="fa fa-chevron-up"></i></a></td></tr><tr class="timepicker-values"><td ng-if="ctrl.pickHours"><a ng-click="ctrl.setMode(\'hours\')">{{ctrl.hours | datePad}}</a></td><td ng-if="ctrl.pickMinutes"><a ng-click="ctrl.setMode(\'minutes\')">{{ctrl.minutes | datePad}}</a></td><td ng-if="ctrl.pickSeconds"><a ng-click="ctrl.setMode(\'seconds\')">{{ctrl.seconds | datePad}}</a></td></tr><tr><td ng-if="ctrl.pickHours"><a ng-click="ctrl.change(\'hours\')"><i class="fa fa-chevron-down"></i></a></td><td ng-if="ctrl.pickMinutes"><a ng-click="ctrl.change(\'minutes\')"><i class="fa fa-chevron-down"></i></a></td><td ng-if="ctrl.pickSeconds"><a ng-click="ctrl.change(\'seconds\')"><i class="fa fa-chevron-down"></i></a></td></tr></tbody><tbody ng-switch-when="hours"><tr ng-repeat="h in ::ctrl.hoursArray" class="hours"><td ng-repeat="hh in ::h"><a ng-click="ctrl.pick(\'hours\', hh.hour)">{{::hh.hour}}</a></td></tr></tbody><tbody ng-switch-default><tr ng-repeat="m in ::ctrl.minutesArray" class="hours"><td ng-repeat="mm in ::m"><a ng-click="ctrl.pick(ctrl.mode, mm.minute)">{{::mm.minute}}</a></td></tr></tbody></table>'),t.put("src/templates/timepicker.html",'<div class="dropdown" ng-class="{ \'input-group\': tpCtrl.options.showIcon, \'input-group-sm\': tpCtrl.isSmall, \'input-group-lg\': tpCtrl.isLarge, \'show\': tpCtrl.isOpen}"><input type="text" class="form-control" ng-model="tpCtrl.ngModel" ng-required="tpCtrl.isRequired" ng-click="tpCtrl.isOpen = true" readonly><ul class="dropdown-menu dropdown-menu-right angular-timepicker" ng-click="$event.stopPropagation()" ng-class="{\'show\': tpCtrl.isOpen}"><li ng-if="tpCtrl.isOpen"><timepicker-drop ng-model="tpCtrl.ngModel" pick-hours="tpCtrl.pickHours" pick-minutes="tpCtrl.pickMinutes" pick-seconds="tpCtrl.pickSeconds"></timepicker-drop></li></ul><span class="input-group-append" ng-show="::tpCtrl.options.showIcon"><button type="button" class="btn btn-outline-secondary" data-ng-disabled="tpCtrl.isDisabled" ng-click="tpCtrl.isOpen = true"><i class="fa fa-clock-o"></i></button></span></div>')}]);
//# sourceMappingURL=angularjs-bootstrap4-datepicker.min.js.map
